## 'git cat-file' processes
ALERT git_cat_file_high
  IF sum(process_count{name="git cat-file"}) >= 40
  FOR 1m
  LABELS {severity="warn", channel="production"}
  ANNOTATIONS {
    title="Number of 'git cat-file' process is high - {{$value}}",
    description="*git cat-file* processes are over {{$value}} for the last minute, this usually impacts GitLab availability. Consider killing these processes or limiting access in HAProxy.",
    runbook="howto/block-things-in-haproxy.md"
  }
