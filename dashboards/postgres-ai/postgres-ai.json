{
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": {
            "type": "grafana",
            "uid": "-- Grafana --"
          },
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "type": "dashboard"
        }
      ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 1,
    "id": null,
    "links": [
    ],
    "panels": [
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "queryid"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 190
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "calls"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 97
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "calls/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 94
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "total_time(s)"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 141
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "total time (s)/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 143
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "rows"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 101
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal records"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 121
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal records/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 160
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "calls (%)"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 105
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "datname"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 164
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "total time(s)"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 119
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "rows/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 95
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "total time %"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 114
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "rows/c"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 91
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "rows %"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 104
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal bytes"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "bytes"
                },
                {
                  "id": "custom.width",
                  "value": 98
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal bytes/s"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "bytes"
                },
                {
                  "id": "custom.width",
                  "value": 128
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal bytes/c"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "bytes"
                },
                {
                  "id": "custom.width",
                  "value": 101
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal bytes % "
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 103
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal fpi"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 94
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal fpi/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 76
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal fpi %"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 88
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "calls %"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 104
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "total time(s)/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 131
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "total time/c"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 116
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal fpi/c"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 104
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "block read(s)"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 125
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "block read(s)/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 132
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "block read(s)%"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 137
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "block write(s)"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 131
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "block write(s)/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 138
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "block write(s) %"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 137
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "block write(s)/c"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 137
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "temp bytes written %"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 163
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "temp bytes written/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 162
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Value #temp bytes read %"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 200
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Value #temp bytes read"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 201
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "temp bytes written/c"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 169
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "temp bytes read"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 148
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "temp bytes read %"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 148
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 14,
          "w": 24,
          "x": 0,
          "y": 0
        },
        "id": 24,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "frameIndex": 1,
          "showHeader": true,
          "sortBy": [
            {
              "desc": true,
              "displayName": "calls"
            }
          ]
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_calls{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "calls"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum(\n  delta(pg_stat_statements_calls{fqdn=\"$fqdn\"}[$__range])\n) by (datname,queryid))  / $__range_s",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "avg calls/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(\n  increase(pg_stat_statements_calls{fqdn=\"$fqdn\"}[$__range])\n) by (queryid,datname)\n/ ignoring(queryid,datname) group_left\nsum(\n  increase(pg_stat_statements_calls{fqdn=\"$fqdn\"}[$__range])\n) by () * 100",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "calls_%"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_seconds_total{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "total_time(s)"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum by (datname, queryid) (delta(pg_stat_statements_seconds_total{fqdn=\"$fqdn\"}[$__range]))) / $__range_s",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "total_time(s)/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(\n  increase(pg_stat_statements_seconds_total{fqdn=\"$fqdn\"}[$__range])\n) by (queryid,datname)\n/ ignoring(queryid,datname) group_left\nsum(\n  increase(pg_stat_statements_seconds_total{fqdn=\"$fqdn\"}[$__range])\n) by () * 100",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "total_time_%"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_rows{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "rows"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum by (datname, queryid) (delta(pg_stat_statements_rows{fqdn=\"$fqdn\"}[$__range]))) / $__range_s",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "rows/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(\n  increase(pg_stat_statements_rows{fqdn=\"$fqdn\"}[$__range])\n) by (queryid,datname)\n/ ignoring(queryid,datname) group_left\nsum(\n  increase(pg_stat_statements_rows{fqdn=\"$fqdn\"}[$__range])\n) by () * 100",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "rows %"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_wal_bytes{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "wal_bytes"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum by (datname, queryid) (delta(pg_stat_statements_wal_bytes{fqdn=\"$fqdn\"}[$__range]))) / $__range_s",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "wal_bytes/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(\n  increase(pg_stat_statements_wal_bytes{fqdn=\"$fqdn\"}[$__range])\n) by (queryid,datname)\n/ ignoring(queryid,datname) group_left\nsum(\n  increase(pg_stat_statements_wal_bytes{fqdn=\"$fqdn\"}[$__range])\n) by () * 100",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "wal_bytes %"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_wal_fpi{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "wal_fpi"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum by (datname, queryid) (delta(pg_stat_statements_wal_fpi{fqdn=\"$fqdn\"}[$__range]))) / $__range_s",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "wal_fpi/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(\n  increase(pg_stat_statements_wal_fpi{fqdn=\"$fqdn\"}[$__range])\n) by (queryid,datname)\n/ ignoring(queryid,datname) group_left\nsum(\n  increase(pg_stat_statements_wal_fpi{fqdn=\"$fqdn\"}[$__range])\n) by () * 100",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "wal_fpi %"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_block_read_seconds_total{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "block_read"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum by (datname, queryid) (delta(pg_stat_statements_block_read_seconds_total{fqdn=\"$fqdn\"}[$__range]))) / $__range_s",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "block_read/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(\n  increase(pg_stat_statements_block_read_seconds_total{fqdn=\"$fqdn\"}[$__range])\n) by (queryid,datname)\n/ ignoring(queryid,datname) group_left\nsum(\n  increase(pg_stat_statements_block_read_seconds_total{fqdn=\"$fqdn\"}[$__range])\n) by () * 100",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "block_read %"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_block_write_seconds_total{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "block_write"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum by (datname, queryid) (delta(pg_stat_statements_block_write_seconds_total{fqdn=\"$fqdn\"}[$__range]))) / $__range_s",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "block_write/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(\n  increase(pg_stat_statements_block_write_seconds_total{fqdn=\"$fqdn\"}[$__range])\n) by (queryid,datname)\n/ ignoring(queryid,datname) group_left\nsum(\n  increase(pg_stat_statements_block_write_seconds_total{fqdn=\"$fqdn\"}[$__range])\n) by () * 100",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "block_write %"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_temp_bytes_written{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "temp_bytes_written"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum by (datname, queryid) (delta(pg_stat_statements_temp_bytes_written{fqdn=\"$fqdn\"}[$__range]))) / $__range_s",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "temp_bytes_written/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(\n  increase(pg_stat_statements_temp_bytes_written{fqdn=\"$fqdn\"}[$__range])\n) by (queryid,datname)\n/ ignoring(queryid,datname) group_left\nsum(\n  increase(pg_stat_statements_temp_bytes_written{fqdn=\"$fqdn\"}[$__range])\n) by () * 100",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "temp_bytes_written %"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_temp_bytes_read{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "temp bytes read"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum by (datname, queryid) (delta(pg_stat_statements_temp_bytes_read{fqdn=\"$fqdn\"}[$__range]))) / $__range_s",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "temp bytes read/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(\n  increase(pg_stat_statements_temp_bytes_read{fqdn=\"$fqdn\"}[$__range])\n) by (queryid,datname)\n/ ignoring(queryid,datname) group_left\nsum(\n  increase(pg_stat_statements_temp_bytes_read{fqdn=\"$fqdn\"}[$__range])\n) by () * 100",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "temp bytes read %"
          }
        ],
        "title": "Query Statistics (pg_stat_statements)  from ${__from:date:YYYY-MM-DD HH:mm:ss}   to ${__to:date:YYYY-MM-DD HH:mm:ss}",
        "transformations": [
          {
            "id": "joinByField",
            "options": {
              "byField": "queryid",
              "mode": "inner"
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "total time / c",
              "binary": {
                "left": "Value #total_time(s)",
                "operator": "/",
                "right": "Value #calls"
              },
              "mode": "binary",
              "reduce": {
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "rows/c",
              "binary": {
                "left": "Value #rows",
                "operator": "/",
                "right": "Value #calls"
              },
              "mode": "binary",
              "reduce": {
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "wal_bytes/c",
              "binary": {
                "left": "Value #wal_bytes",
                "operator": "/",
                "right": "Value #calls"
              },
              "mode": "binary",
              "reduce": {
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "wal fpi/c",
              "binary": {
                "left": "Value #wal_fpi",
                "operator": "/",
                "right": "Value #calls"
              },
              "mode": "binary",
              "reduce": {
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "block read(s)/c",
              "binary": {
                "left": "Value #block_read",
                "operator": "/",
                "right": "Value #calls"
              },
              "mode": "binary",
              "reduce": {
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "block write(s)/c",
              "binary": {
                "left": "Value #block_write",
                "right": "Value #calls"
              },
              "mode": "binary",
              "reduce": {
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "temp bytes written/c",
              "binary": {
                "left": "Value #temp_bytes_written",
                "operator": "/",
                "right": "Value #calls"
              },
              "mode": "binary",
              "reduce": {
                "reducer": "sum"
              }
            }
          },
          {
            "id": "calculateField",
            "options": {
              "alias": "temp bytes read/c",
              "binary": {
                "left": "Value #temp bytes read",
                "operator": "/",
                "right": "Value #calls"
              },
              "mode": "binary",
              "reduce": {
                "reducer": "sum"
              }
            }
          },
          {
            "id": "organize",
            "options": {
              "excludeByName": {
                "Time 1": true,
                "Time 10": true,
                "Time 11": true,
                "Time 12": true,
                "Time 13": true,
                "Time 14": true,
                "Time 15": true,
                "Time 16": true,
                "Time 17": true,
                "Time 18": true,
                "Time 19": true,
                "Time 2": true,
                "Time 20": true,
                "Time 21": true,
                "Time 22": true,
                "Time 23": true,
                "Time 24": true,
                "Time 25": true,
                "Time 26": true,
                "Time 27": true,
                "Time 3": true,
                "Time 4": true,
                "Time 5": true,
                "Time 6": true,
                "Time 7": true,
                "Time 8": true,
                "Time 9": true,
                "Value #rows %": false,
                "datname 1": true,
                "datname 10": true,
                "datname 11": true,
                "datname 12": true,
                "datname 13": true,
                "datname 14": true,
                "datname 15": true,
                "datname 16": true,
                "datname 17": true,
                "datname 18": true,
                "datname 19": true,
                "datname 2": true,
                "datname 20": true,
                "datname 21": true,
                "datname 22": true,
                "datname 23": true,
                "datname 24": true,
                "datname 25": true,
                "datname 26": true,
                "datname 27": true,
                "datname 3": true,
                "datname 4": true,
                "datname 5": true,
                "datname 6": true,
                "datname 7": true,
                "datname 8": true,
                "datname 9": true
              },
              "includeByName": {
              },
              "indexByName": {
                "Time 1": 1,
                "Time 10": 30,
                "Time 11": 32,
                "Time 12": 34,
                "Time 13": 39,
                "Time 14": 43,
                "Time 15": 46,
                "Time 16": 49,
                "Time 17": 53,
                "Time 18": 56,
                "Time 19": 60,
                "Time 2": 4,
                "Time 20": 63,
                "Time 21": 66,
                "Time 22": 70,
                "Time 23": 73,
                "Time 24": 76,
                "Time 25": 80,
                "Time 26": 83,
                "Time 27": 86,
                "Time 3": 8,
                "Time 4": 11,
                "Time 5": 16,
                "Time 6": 22,
                "Time 7": 24,
                "Time 8": 26,
                "Time 9": 28,
                "Value #avg calls/s": 6,
                "Value #block_read": 52,
                "Value #block_read %": 58,
                "Value #block_read/s": 55,
                "Value #block_write": 62,
                "Value #block_write %": 68,
                "Value #block_write/s": 65,
                "Value #calls": 3,
                "Value #calls_%": 7,
                "Value #rows": 18,
                "Value #rows %": 21,
                "Value #rows/s": 19,
                "Value #temp bytes read": 82,
                "Value #temp bytes read %": 88,
                "Value #temp bytes read/s": 85,
                "Value #temp_bytes_written": 72,
                "Value #temp_bytes_written %": 78,
                "Value #temp_bytes_written/s": 75,
                "Value #total_time(s)": 10,
                "Value #total_time(s)/s": 13,
                "Value #total_time_%": 15,
                "Value #wal_bytes": 36,
                "Value #wal_bytes %": 38,
                "Value #wal_bytes/s": 37,
                "Value #wal_fpi": 42,
                "Value #wal_fpi %": 48,
                "Value #wal_fpi/s": 45,
                "block read(s)/c": 59,
                "block write(s)/c": 69,
                "datname 1": 2,
                "datname 10": 31,
                "datname 11": 33,
                "datname 12": 35,
                "datname 13": 40,
                "datname 14": 44,
                "datname 15": 47,
                "datname 16": 50,
                "datname 17": 54,
                "datname 18": 57,
                "datname 19": 61,
                "datname 2": 5,
                "datname 20": 64,
                "datname 21": 67,
                "datname 22": 71,
                "datname 23": 74,
                "datname 24": 77,
                "datname 25": 81,
                "datname 26": 84,
                "datname 27": 87,
                "datname 3": 9,
                "datname 4": 12,
                "datname 5": 17,
                "datname 6": 23,
                "datname 7": 25,
                "datname 8": 27,
                "datname 9": 29,
                "queryid": 0,
                "rows/c": 20,
                "temp bytes written/c": 79,
                "total time / c": 14,
                "wal fpi/c": 51,
                "wal_bytes/c": 41
              },
              "renameByName": {
                "Time 23": "",
                "Value #avg calls/s": "calls/s",
                "Value #block_read": "block read(s)",
                "Value #block_read %": "block read(s)%",
                "Value #block_read/s": "block read(s)/s",
                "Value #block_write": "block write(s)",
                "Value #block_write %": "block write(s) %",
                "Value #block_write/s": "block write(s)/s",
                "Value #calls": "calls",
                "Value #calls_%": "calls %",
                "Value #rows": "rows",
                "Value #rows %": "rows %",
                "Value #rows/s": "rows/s",
                "Value #temp bytes read": "temp bytes read",
                "Value #temp bytes read %": "temp bytes read %",
                "Value #temp bytes read/s": "temp bytes read/s",
                "Value #temp_bytes_written": "temp bytes written",
                "Value #temp_bytes_written %": "temp bytes written %",
                "Value #temp_bytes_written/s": "temp bytes written/s",
                "Value #total_time(s)": "total time(s)",
                "Value #total_time(s)/s": "total time(s)/s",
                "Value #total_time_%": "total time %",
                "Value #wal_bytes": "wal bytes",
                "Value #wal_bytes %": "wal bytes % ",
                "Value #wal_bytes/s": "wal bytes/s",
                "Value #wal_fpi": "wal fpi",
                "Value #wal_fpi %": "wal fpi %",
                "Value #wal_fpi/s": "wal fpi/s",
                "Value #wal_records": "wal records",
                "Value #wal_records %": "wal records %",
                "Value #wal_records/s": "wal records/s",
                "datname 24": "",
                "datname 3": "",
                "rows/c": "rows/c",
                "total time / c": "total time/c",
                "wal fpi/c": "",
                "wal_bytes/c": "wal bytes/c"
              }
            }
          }
        ],
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "queryid"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 190
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "calls"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 97
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "calls/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 107
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "total_time(s)"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 141
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "total time (s)/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 143
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "rows"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 118
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal records"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 121
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "wal records/s"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 160
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "datname"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 226
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Value #kcache_exec_system_time"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 288
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Value #kcache_exec_user_time"
              },
              "properties": [
                {
                  "id": "custom.width",
                  "value": 330
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 14,
          "w": 24,
          "x": 0,
          "y": 14
        },
        "id": 26,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "frameIndex": 0,
          "showHeader": true,
          "sortBy": [
          ]
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_calls{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": true,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "calls"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum(\n  delta(pg_stat_statements_calls{fqdn=\"$fqdn\"}[$__range])\n) by (datname,queryid))  / $__range_s",
            "format": "table",
            "hide": true,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "avg calls/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_seconds_total{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": true,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "total_time(s)"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum by (datname, queryid) (delta(pg_stat_statements_seconds_total{fqdn=\"$fqdn\"}[$__range]))) / $__range_s",
            "format": "table",
            "hide": true,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "total_time(s)/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_rows{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": true,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "rows"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_statements_wal_records{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": true,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "wal_records"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "(sum by (datname, queryid) (delta(pg_stat_statements_wal_records{fqdn=\"$fqdn\"}[$__range]))) / $__range_s",
            "format": "table",
            "hide": true,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "wal_records/s"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(\n  increase(pg_stat_statements_wal_records{fqdn=\"$fqdn\"}[$__range])\n) by (queryid,datname)\n/ ignoring(queryid,datname) group_left\nsum(\n  increase(pg_stat_statements_wal_records{fqdn=\"$fqdn\"}[$__range])\n) by ()",
            "format": "table",
            "hide": true,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "wal_records %"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_kcache_exec_system_time{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "kcache_exec_system_time"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_kcache_exec_user_time{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "kcache_exec_user_time"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (datname, queryid) (delta(pg_stat_kcache_exec_total_time{fqdn=\"$fqdn\"}[$__range]))",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "__auto",
            "range": false,
            "refId": "kcache_exec_total_time"
          }
        ],
        "title": "Query Statistics (pg_stat_kcache)  from ${__from:date:YYYY-MM-DD HH:mm:ss}   to ${__to:date:YYYY-MM-DD HH:mm:ss}",
        "transformations": [
          {
            "id": "joinByField",
            "options": {
              "byField": "queryid",
              "mode": "inner"
            }
          },
          {
            "id": "organize",
            "options": {
              "excludeByName": {
                "Time 1": true,
                "Time 2": true,
                "Time 3": true,
                "datname 2": true,
                "datname 3": true
              },
              "includeByName": {
              },
              "indexByName": {
              },
              "renameByName": {
                "Value #B": "CPU exec system time(s)",
                "Value #C": "CPU exec total time (s)",
                "Value #kcache_exec_system_time": "CPU exec system time (s)",
                "Value #kcache_exec_total_time": "CPU exec total time (s)",
                "Value #kcache_exec_user_time": "CPU exec user time (s)",
                "datname 1": "",
                "datname 2": "",
                "datname 3": ""
              }
            }
          }
        ],
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "show pg_stat_statements with sorting by columns option",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 28
        },
        "id": 18,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "expr": "irate(pg_stat_statements_calls{fqdn=\"$fqdn\"}[1m])",
            "format": "table",
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Top N by blocks write",
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "show pg_stat_statements with sorting by columns option",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 28
        },
        "id": 12,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "expr": "irate(pg_stat_statements_calls{fqdn=\"$fqdn\"}[1m])",
            "format": "table",
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Top N by calls",
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "show pg_stat_statements with sorting by columns option",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 36
        },
        "id": 13,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "expr": "irate(pg_stat_statements_calls{fqdn=\"$fqdn\"}[1m])",
            "format": "table",
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Top N by total time",
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "show pg_stat_statements with sorting by columns option",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 36
        },
        "id": 16,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "expr": "irate(pg_stat_statements_calls{fqdn=\"$fqdn\"}[1m])",
            "format": "table",
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Top N by mean time",
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "show pg_stat_statements with sorting by columns option",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 44
        },
        "id": 17,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "expr": "irate(pg_stat_statements_calls{fqdn=\"$fqdn\"}[1m])",
            "format": "table",
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Top N by blocks read",
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "show pg_stat_statements with sorting by columns option",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 44
        },
        "id": 20,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "expr": "irate(pg_stat_statements_calls{fqdn=\"$fqdn\"}[1m])",
            "format": "table",
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Top N by physical IO time",
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "show pg_stat_statements with sorting by columns option",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 52
        },
        "id": 15,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "expr": "irate(pg_stat_statements_calls{fqdn=\"$fqdn\"}[1m])",
            "format": "table",
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Top N by WAL generated ",
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "show pg_stat_statements with sorting by columns option",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 52
        },
        "id": 14,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "expr": "irate(pg_stat_statements_calls{fqdn=\"$fqdn\"}[1m])",
            "format": "table",
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Top N by temp files ",
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
        },
        "description": "show pg_stat_statements with sorting by columns option",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 60
        },
        "id": 19,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true
        },
        "pluginVersion": "11.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
            },
            "editorMode": "code",
            "expr": "irate(pg_stat_statements_calls{fqdn=\"$fqdn\"}[1m])",
            "format": "table",
            "instant": false,
            "legendFormat": "__auto",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Top N by CPU time",
        "type": "table"
      }
    ],
    "refresh": "5m",
    "schemaVersion": 39,
    "tags": [
      "unmanaged",
      "protected"
    ],
    "templating": {
      "list": [
        {
          "current": {
            "selected": false,
            "text": "Mimir - Gitlab Gprd",
            "value": "mimir-gitlab-gprd"
          },
          "hide": 0,
          "includeAll": false,
          "label": "Datasource",
          "multi": false,
          "name": "prometheus",
          "options": [
          ],
          "query": "prometheus",
          "queryValue": "",
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "type": "datasource"
        },
        {
          "current": {
            "selected": false,
            "text": "gprd",
            "value": "gprd"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${prometheus}"
          },
          "definition": "label_values(node_exporter_build_info,env)",
          "hide": 0,
          "includeAll": false,
          "label": "Environment",
          "multi": false,
          "name": "environment",
          "options": [
          ],
          "query": {
            "qryType": 1,
            "query": "label_values(node_exporter_build_info,env)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "patroni",
            "value": "patroni"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${prometheus}"
          },
          "definition": "label_values(node_exporter_build_info,type)",
          "description": "\tlabel_values(up{environment=\"$environment\",tier=\"db\",type!=\"redis\"},type)",
          "hide": 0,
          "includeAll": false,
          "multi": false,
          "name": "type",
          "options": [
          ],
          "query": {
            "qryType": 1,
            "query": "label_values(node_exporter_build_info,type)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "current": {
            "selected": false,
            "text": "patroni-main-v14-101-db-gprd.c.gitlab-production.internal",
            "value": "patroni-main-v14-101-db-gprd.c.gitlab-production.internal"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
          },
          "definition": "label_values(node_exporter_build_info{tier=\"db\", type=\"$type\", environment=\"$environment\"},fqdn)",
          "description": "\tlabel_values(up{environment=\"$environment\",tier=\"db\",type=\"$type\"},fqdn)",
          "hide": 0,
          "includeAll": false,
          "multi": false,
          "name": "fqdn",
          "options": [
          ],
          "query": {
            "qryType": 1,
            "query": "label_values(node_exporter_build_info{tier=\"db\", type=\"$type\", environment=\"$environment\"},fqdn)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "e58c2f51-20f8-4f4b-ad48-2968782ca7d6"
          },
          "filters": [
          ],
          "hide": 0,
          "name": "Filters",
          "skipUrlSync": false,
          "type": "adhoc"
        }
      ]
    },
    "time": {
      "from": "now-5m",
      "to": "now"
    },
    "timepicker": {
    },
    "timezone": "browser",
    "title": "[Draft][postgres.ai] Postgres aggregated query performance analysis",
    "uid": "edxi03vbar9q8a",
    "version": 98,
    "weekStart": ""
  }