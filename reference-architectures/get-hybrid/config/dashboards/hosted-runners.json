{
      "__inputs": [ ],
      "__requires": [ ],
      "annotations": {
         "list": [ ]
      },
      "editable": true,
      "gnetId": null,
      "graphTooltip": 1,
      "hideControls": false,
      "id": null,
      "links": [ ],
      "panels": [
         {
            "collapse": false,
            "collapsed": false,
            "gridPos": {
               "h": 1,
               "w": 24,
               "x": 0,
               "y": 0
            },
            "id": 2,
            "panels": [ ],
            "repeat": null,
            "repeatIteration": null,
            "repeatRowId": null,
            "showTitle": true,
            "title": "Overview",
            "titleSize": "h6",
            "type": "row"
         },
         {
            "datasource": "$PROMETHEUS_DS",
            "description": "Runner version",
            "fieldConfig": {
               "defaults": {
                  "decimals": 0,
                  "links": [ ],
                  "mappings": [ ],
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [
                        {
                           "color": "light-blue",
                           "value": null
                        }
                     ]
                  },
                  "unit": "none"
               }
            },
            "gridPos": {
               "h": 5,
               "w": 6,
               "x": 0,
               "y": 0
            },
            "id": 3,
            "links": [ ],
            "options": {
               "colorMode": "value",
               "graphMode": "none",
               "justifyMode": "auto",
               "orientation": "vertical",
               "reduceOptions": {
                  "calcs": [
                     "lastNotNull"
                  ],
                  "fields": "version",
                  "values": false
               },
               "textMode": "auto"
            },
            "pluginVersion": "7",
            "targets": [
               {
                  "expr": "gitlab_runner_version_info{job=\"$runner\"}",
                  "format": "table",
                  "instant": true,
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
               }
            ],
            "title": "GitLab Runner Version",
            "transformations": [ ],
            "transparent": false,
            "type": "stat"
         },
         {
            "datasource": "$PROMETHEUS_DS",
            "description": "Runner concurrent",
            "fieldConfig": {
               "defaults": {
                  "decimals": 0,
                  "links": [ ],
                  "mappings": [ ],
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [
                        {
                           "color": "light-blue",
                           "value": null
                        }
                     ]
                  },
                  "unit": "none"
               }
            },
            "gridPos": {
               "h": 5,
               "w": 6,
               "x": 6,
               "y": 0
            },
            "id": 4,
            "links": [ ],
            "options": {
               "colorMode": "value",
               "graphMode": "none",
               "justifyMode": "auto",
               "orientation": "vertical",
               "reduceOptions": {
                  "calcs": [
                     "lastNotNull"
                  ],
                  "fields": "Value",
                  "values": false
               },
               "textMode": "auto"
            },
            "pluginVersion": "7",
            "targets": [
               {
                  "expr": "gitlab_runner_concurrent{job=\"$runner\"}",
                  "format": "table",
                  "instant": true,
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
               }
            ],
            "title": "Global concurrent jobs",
            "transformations": [ ],
            "transparent": false,
            "type": "stat"
         },
         {
            "datasource": "$PROMETHEUS_DS",
            "description": "Total jobs executed",
            "fieldConfig": {
               "defaults": {
                  "decimals": 0,
                  "links": [ ],
                  "mappings": [ ],
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [
                        {
                           "color": "light-blue",
                           "value": null
                        }
                     ]
                  },
                  "unit": "none"
               }
            },
            "gridPos": {
               "h": 5,
               "w": 6,
               "x": 12,
               "y": 0
            },
            "id": 5,
            "links": [ ],
            "options": {
               "colorMode": "value",
               "graphMode": "none",
               "justifyMode": "auto",
               "orientation": "vertical",
               "reduceOptions": {
                  "calcs": [
                     "lastNotNull"
                  ],
                  "fields": "Value",
                  "values": false
               },
               "textMode": "auto"
            },
            "pluginVersion": "7",
            "targets": [
               {
                  "expr": "gitlab_runner_jobs_total{job=\"$runner\"}",
                  "format": "table",
                  "instant": true,
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
               }
            ],
            "title": "Total jobs executed",
            "transformations": [ ],
            "transparent": false,
            "type": "stat"
         },
         {
            "datasource": "$PROMETHEUS_DS",
            "description": "Total failed jobs",
            "fieldConfig": {
               "defaults": {
                  "decimals": 0,
                  "links": [ ],
                  "mappings": [ ],
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [
                        {
                           "color": "red",
                           "value": null
                        }
                     ]
                  },
                  "unit": "none"
               }
            },
            "gridPos": {
               "h": 5,
               "w": 6,
               "x": 18,
               "y": 0
            },
            "id": 6,
            "links": [ ],
            "options": {
               "colorMode": "value",
               "graphMode": "none",
               "justifyMode": "auto",
               "orientation": "vertical",
               "reduceOptions": {
                  "calcs": [
                     "lastNotNull"
                  ],
                  "fields": "Value",
                  "values": false
               },
               "textMode": "auto"
            },
            "pluginVersion": "7",
            "targets": [
               {
                  "expr": "sum(gitlab_runner_failed_jobs_total{job=\"$runner\"}) by (runner)",
                  "format": "table",
                  "instant": true,
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
               }
            ],
            "title": "Total failed jobs",
            "transformations": [ ],
            "transparent": false,
            "type": "stat"
         },
         {
            "aliasColors": { },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 6,
               "x": 0,
               "y": 20
            },
            "id": 7,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "sum by(job) (\n  gitlab_runner_jobs{job=\"$runner\"}\n)\n",
                  "format": "time_series",
                  "interval": "30s",
                  "intervalFactor": 1,
                  "legendFormat": "{{job}}",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Jobs running",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "short",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "aliasColors": { },
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 6,
               "x": 6,
               "y": 20
            },
            "id": 8,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": false,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "sum (\n  rate(\n    gitlab_runner_job_duration_seconds_sum{job=\"$runner\"} [$__rate_interval]\n  ) /\n  rate(\n    gitlab_runner_job_duration_seconds_count{job=\"$runner\"} [$__rate_interval]\n  )\n) by (runner,job)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "{{job}} : {{runner}}",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Average duration of jobs",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "s",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "aliasColors": { },
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 6,
               "x": 12,
               "y": 20
            },
            "id": 9,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": false,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "rate(\n  gitlab_runner_request_concurrency_exceeded_total{job=\"$runner\"} [$__rate_interval]\n)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "{{job}} : {{runner}}",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Counter tracking exceeding of request concurrency",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "short",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "aliasColors": { },
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 6,
               "x": 18,
               "y": 20
            },
            "id": 10,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": false,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "sum (\n  rate(\n    gitlab_runner_errors_total{job=\"$runner\"} [$__rate_interval]\n  )\n) by (level,job)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "{{job}} : {{level}}",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "The number of caught errors",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "short",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "aliasColors": { },
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 8,
               "x": 0,
               "y": 30
            },
            "id": 11,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": false,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "rate(\n  gitlab_runner_api_request_statuses_total{job=\"$runner\"} [$__rate_interval]\n)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "{{runner}} : api {{endpoint}} : status {{status}}",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Total number of api requests",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "short",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "aliasColors": { },
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 8,
               "x": 8,
               "y": 30
            },
            "id": 12,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": false,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "sum(\n  gitlab_runner_jobs{state=\"running\", job=\"$runner\"}\n) by (job, executor_stage, stage, runner)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "{{job}} : {{runner}} : {{executor_stage}} : {{stage}} ",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Running jobs phase",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "short",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "aliasColors": { },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 8,
               "x": 16,
               "y": 30
            },
            "id": 13,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "sum by (job) (\n  gitlab_runner_jobs{job=\"$runner\"}\n)\n/\nsum by (job) (\n  gitlab_runner_concurrent{job=\"$runner\"}\n)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "{{job}}",
                  "refId": "A"
               },
               {
                  "expr": "0.85",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "Soft SLO",
                  "refId": "B"
               },
               {
                  "expr": "0.9",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "Hard SLO",
                  "refId": "C"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Runner saturation of concurrent",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "percentunit",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "collapse": false,
            "collapsed": false,
            "gridPos": {
               "h": 1,
               "w": 24,
               "x": 0,
               "y": 40
            },
            "id": 14,
            "panels": [ ],
            "repeat": null,
            "repeatIteration": null,
            "repeatRowId": null,
            "showTitle": true,
            "title": "Job queue timings",
            "titleSize": "h6",
            "type": "row"
         },
         {
            "aliasColors": { },
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 8,
               "x": 0,
               "y": 40
            },
            "id": 15,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": false,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "sum(\n  rate(\n    gitlab_runner_job_queue_duration_seconds_sum{job=\"$runner\"}[$__rate_interval]\n  )\n) by (job)\n/\nsum(\n  rate(\n    gitlab_runner_job_queue_duration_seconds_count{job=\"$runner\"} [$__rate_interval]\n  )\n) by (job)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "{{job}} : {{runner}}",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Average duration of queing",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "s",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "cards": {
               "cardPadding": 1,
               "cardRound": 2
            },
            "color": {
               "cardColor": "#FA6400",
               "colorScale": "sqrt",
               "colorScheme": "Oranges",
               "exponent": 0.5,
               "mode": "spectrum"
            },
            "dataFormat": "tsbuckets",
            "datasource": "$PROMETHEUS_DS",
            "description": "",
            "gridPos": {
               "h": 10,
               "w": 8,
               "x": 8,
               "y": 40
            },
            "heatmap": { },
            "hideZeroBuckets": false,
            "highlightCards": true,
            "id": 16,
            "legend": {
               "show": true
            },
            "targets": [
               {
                  "dsType": "influxdb",
                  "expr": "sum by (le) (\n  increase(gitlab_runner_job_queue_duration_seconds_bucket{job=\"$runner\"}[$__rate_interval])\n)\n",
                  "format": "heatmap",
                  "groupBy": [
                     {
                        "params": [
                           "$__rate_interval"
                        ],
                        "type": "time"
                     },
                     {
                        "params": [
                           "null"
                        ],
                        "type": "fill"
                     }
                  ],
                  "interval": "$__rate_interval",
                  "intervalFactor": 1,
                  "legendFormat": "{{le}}",
                  "orderByTime": "ASC",
                  "refId": "A",
                  "select": [
                     [
                        {
                           "params": [
                              "value"
                           ],
                           "type": "field"
                        },
                        {
                           "params": [ ],
                           "type": "mean"
                        }
                     ]
                  ]
               }
            ],
            "title": "Pending job queue duration histogram",
            "tooltip": {
               "show": true,
               "showHistogram": true
            },
            "tooltipDecimals": 3,
            "type": "heatmap",
            "xAxis": {
               "show": true
            },
            "xBucketNumber": null,
            "xBucketSize": null,
            "yAxis": {
               "decimals": 2,
               "format": "s",
               "show": true,
               "splitFactor": null
            },
            "yBucketBound": "auto"
         },
         {
            "aliasColors": { },
            "bars": true,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 8,
               "x": 16,
               "y": 40
            },
            "id": 17,
            "legend": {
               "show": false
            },
            "lines": false,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "increase(\n ci_pending_builds [$__rate_interval]\n)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Pending Builds",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "short",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "collapse": false,
            "collapsed": false,
            "gridPos": {
               "h": 1,
               "w": 24,
               "x": 0,
               "y": 80
            },
            "id": 18,
            "panels": [ ],
            "repeat": null,
            "repeatIteration": null,
            "repeatRowId": null,
            "showTitle": true,
            "title": "Fleeting instances",
            "titleSize": "h6",
            "type": "row"
         },
         {
            "aliasColors": { },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 8,
               "x": 0,
               "y": 80
            },
            "id": 19,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "sum by(job) (\n  fleeting_provisioner_instances{state=~\"running|deleting\", job=\"$runner\"}\n)\n/\nsum by(job) (\n  fleeting_provisioner_max_instances{job=\"$runner\"}\n)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "{{job}}",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Fleeting instances saturation",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "percentunit",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "aliasColors": { },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 8,
               "x": 8,
               "y": 80
            },
            "id": 20,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "sum by(job) (\n  fleeting_taskscaler_tasks{job=\"$runner\", state!~\"idle|reserved\"}\n)\n/\nsum by(job) (\n  fleeting_provisioner_max_instances{job=\"$runner\"}\n  *\n  fleeting_taskscaler_max_tasks_per_instance{job=\"$runner\"}\n)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "{{job}}",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Taskscaler tasks saturation",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "percentunit",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "aliasColors": { },
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": "$PROMETHEUS_DS",
            "decimals": 0,
            "description": "",
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
               "h": 10,
               "w": 8,
               "x": 16,
               "y": 80
            },
            "id": 21,
            "legend": {
               "alignAsTable": true,
               "avg": true,
               "current": true,
               "hideEmpty": true,
               "max": true,
               "min": true,
               "rightSide": false,
               "show": true,
               "sideWidth": null,
               "total": false,
               "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [ ],
            "nullPointMode": "null",
            "percentage": false,
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "seriesOverrides": [ ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
               {
                  "expr": "sum by(job) (\n  fleeting_taskscaler_max_use_count_per_instance{job=~\"$runner\"}\n)\n",
                  "format": "time_series",
                  "interval": "1m",
                  "intervalFactor": 1,
                  "legendFormat": "{{job}}",
                  "refId": "A"
               }
            ],
            "thresholds": [ ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Taskscaler max use count per instance",
            "tooltip": {
               "shared": true,
               "sort": 2,
               "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
               "buckets": null,
               "mode": "time",
               "name": null,
               "show": true,
               "values": [ ]
            },
            "yaxes": [
               {
                  "format": "short",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": 0,
                  "show": true
               },
               {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": 1,
                  "min": 0,
                  "show": false
               }
            ]
         },
         {
            "cards": {
               "cardPadding": 1,
               "cardRound": 2
            },
            "color": {
               "cardColor": "#FA6400",
               "colorScale": "sqrt",
               "colorScheme": "Greens",
               "exponent": 0.5,
               "mode": "spectrum"
            },
            "dataFormat": "tsbuckets",
            "datasource": "$PROMETHEUS_DS",
            "description": "",
            "gridPos": {
               "h": 10,
               "w": 6,
               "x": 0,
               "y": 90
            },
            "heatmap": { },
            "hideZeroBuckets": false,
            "highlightCards": true,
            "id": 22,
            "legend": {
               "show": true
            },
            "targets": [
               {
                  "dsType": "influxdb",
                  "expr": "sum by (le) (\n  rate(\n    fleeting_provisioner_instance_creation_time_seconds_bucket{job=\"$runner\"}[$__rate_interval]\n  )\n)\n",
                  "format": "heatmap",
                  "groupBy": [
                     {
                        "params": [
                           "$__rate_interval"
                        ],
                        "type": "time"
                     },
                     {
                        "params": [
                           "null"
                        ],
                        "type": "fill"
                     }
                  ],
                  "interval": "$__rate_interval",
                  "intervalFactor": 2,
                  "legendFormat": "{{le}}",
                  "orderByTime": "ASC",
                  "refId": "A",
                  "select": [
                     [
                        {
                           "params": [
                              "value"
                           ],
                           "type": "field"
                        },
                        {
                           "params": [ ],
                           "type": "mean"
                        }
                     ]
                  ]
               }
            ],
            "title": "Fleeting instance creation timing",
            "tooltip": {
               "show": true,
               "showHistogram": true
            },
            "tooltipDecimals": 3,
            "type": "heatmap",
            "xAxis": {
               "show": true
            },
            "xBucketNumber": null,
            "xBucketSize": null,
            "yAxis": {
               "decimals": 2,
               "format": "s",
               "show": true,
               "splitFactor": null
            },
            "yBucketBound": "auto"
         },
         {
            "cards": {
               "cardPadding": 1,
               "cardRound": 2
            },
            "color": {
               "cardColor": "#FA6400",
               "colorScale": "sqrt",
               "colorScheme": "Blues",
               "exponent": 0.5,
               "mode": "spectrum"
            },
            "dataFormat": "tsbuckets",
            "datasource": "$PROMETHEUS_DS",
            "description": "",
            "gridPos": {
               "h": 10,
               "w": 6,
               "x": 6,
               "y": 90
            },
            "heatmap": { },
            "hideZeroBuckets": false,
            "highlightCards": true,
            "id": 23,
            "legend": {
               "show": true
            },
            "targets": [
               {
                  "dsType": "influxdb",
                  "expr": "sum by (le) (\n  rate(\n    fleeting_provisioner_instance_is_running_time_seconds_bucket{job=\"$runner\"}[$__rate_interval]\n  )\n)\n",
                  "format": "heatmap",
                  "groupBy": [
                     {
                        "params": [
                           "$__rate_interval"
                        ],
                        "type": "time"
                     },
                     {
                        "params": [
                           "null"
                        ],
                        "type": "fill"
                     }
                  ],
                  "interval": "$__rate_interval",
                  "intervalFactor": 2,
                  "legendFormat": "{{le}}",
                  "orderByTime": "ASC",
                  "refId": "A",
                  "select": [
                     [
                        {
                           "params": [
                              "value"
                           ],
                           "type": "field"
                        },
                        {
                           "params": [ ],
                           "type": "mean"
                        }
                     ]
                  ]
               }
            ],
            "title": "Fleeting instance is_running timing",
            "tooltip": {
               "show": true,
               "showHistogram": true
            },
            "tooltipDecimals": 3,
            "type": "heatmap",
            "xAxis": {
               "show": true
            },
            "xBucketNumber": null,
            "xBucketSize": null,
            "yAxis": {
               "decimals": 2,
               "format": "s",
               "show": true,
               "splitFactor": null
            },
            "yBucketBound": "auto"
         },
         {
            "cards": {
               "cardPadding": 1,
               "cardRound": 2
            },
            "color": {
               "cardColor": "#FA6400",
               "colorScale": "sqrt",
               "colorScheme": "Purples",
               "exponent": 0.5,
               "mode": "spectrum"
            },
            "dataFormat": "tsbuckets",
            "datasource": "$PROMETHEUS_DS",
            "description": "",
            "gridPos": {
               "h": 10,
               "w": 6,
               "x": 12,
               "y": 90
            },
            "heatmap": { },
            "hideZeroBuckets": false,
            "highlightCards": true,
            "id": 24,
            "legend": {
               "show": true
            },
            "targets": [
               {
                  "dsType": "influxdb",
                  "expr": "sum by (le) (\n  rate(\n    fleeting_provisioner_instance_life_duration_seconds_bucket{job=\"$runner\"}[$__rate_interval]\n  )\n)\n",
                  "format": "heatmap",
                  "groupBy": [
                     {
                        "params": [
                           "$__rate_interval"
                        ],
                        "type": "time"
                     },
                     {
                        "params": [
                           "null"
                        ],
                        "type": "fill"
                     }
                  ],
                  "interval": "$__rate_interval",
                  "intervalFactor": 2,
                  "legendFormat": "{{le}}",
                  "orderByTime": "ASC",
                  "refId": "A",
                  "select": [
                     [
                        {
                           "params": [
                              "value"
                           ],
                           "type": "field"
                        },
                        {
                           "params": [ ],
                           "type": "mean"
                        }
                     ]
                  ]
               }
            ],
            "title": "Fleeting instance life duration",
            "tooltip": {
               "show": true,
               "showHistogram": true
            },
            "tooltipDecimals": 3,
            "type": "heatmap",
            "xAxis": {
               "show": true
            },
            "xBucketNumber": null,
            "xBucketSize": null,
            "yAxis": {
               "decimals": 2,
               "format": "s",
               "show": true,
               "splitFactor": null
            },
            "yBucketBound": "auto"
         },
         {
            "cards": {
               "cardPadding": 1,
               "cardRound": 2
            },
            "color": {
               "cardColor": "#FA6400",
               "colorScale": "sqrt",
               "colorScheme": "Reds",
               "exponent": 0.5,
               "mode": "spectrum"
            },
            "dataFormat": "tsbuckets",
            "datasource": "$PROMETHEUS_DS",
            "description": "",
            "gridPos": {
               "h": 10,
               "w": 6,
               "x": 18,
               "y": 90
            },
            "heatmap": { },
            "hideZeroBuckets": false,
            "highlightCards": true,
            "id": 25,
            "legend": {
               "show": true
            },
            "targets": [
               {
                  "dsType": "influxdb",
                  "expr": "sum by (le) (\n  rate(\n    fleeting_provisioner_instance_deletion_time_seconds_bucket{job=\"$runner\"}[$__rate_interval]\n  )\n)\n",
                  "format": "heatmap",
                  "groupBy": [
                     {
                        "params": [
                           "$__rate_interval"
                        ],
                        "type": "time"
                     },
                     {
                        "params": [
                           "null"
                        ],
                        "type": "fill"
                     }
                  ],
                  "interval": "$__rate_interval",
                  "intervalFactor": 2,
                  "legendFormat": "{{le}}",
                  "orderByTime": "ASC",
                  "refId": "A",
                  "select": [
                     [
                        {
                           "params": [
                              "value"
                           ],
                           "type": "field"
                        },
                        {
                           "params": [ ],
                           "type": "mean"
                        }
                     ]
                  ]
               }
            ],
            "title": "Fleeting instance deletion timing",
            "tooltip": {
               "show": true,
               "showHistogram": true
            },
            "tooltipDecimals": 3,
            "type": "heatmap",
            "xAxis": {
               "show": true
            },
            "xBucketNumber": null,
            "xBucketSize": null,
            "yAxis": {
               "decimals": 2,
               "format": "s",
               "show": true,
               "splitFactor": null
            },
            "yBucketBound": "auto"
         }
      ],
      "refresh": "",
      "rows": [ ],
      "schemaVersion": 16,
      "style": "light",
      "tags": [
         "hosted-runner"
      ],
      "templating": {
         "list": [
            {
               "current": {
                  "text": "Global",
                  "value": "Global"
               },
               "hide": 0,
               "label": null,
               "name": "PROMETHEUS_DS",
               "options": [ ],
               "query": "prometheus",
               "refresh": 1,
               "regex": "",
               "type": "datasource"
            },
            {
               "allValue": null,
               "current": {
                  "text": "All",
                  "value": "All"
               },
               "datasource": "$PROMETHEUS_DS",
               "hide": 0,
               "includeAll": false,
               "label": null,
               "multi": true,
               "name": "runner",
               "options": [ ],
               "query": "label_values(gitlab_runner_version_info,job)\n",
               "refresh": 2,
               "regex": "",
               "sort": true,
               "tagValuesQuery": "",
               "tags": [ ],
               "tagsQuery": "",
               "type": "query",
               "useTags": false
            }
         ]
      },
      "time": {
         "from": "now-6h/m",
         "to": "now/m"
      },
      "timepicker": {
         "refresh_intervals": [
            "1m",
            "5m",
            "10m",
            "15m",
            "30m"
         ],
         "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
         ]
      },
      "timezone": "utc",
      "title": "Hosted Runners -  Overview",
      "version": 0
   }