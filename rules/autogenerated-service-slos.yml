# WARNING. DO NOT EDIT THIS FILE BY HAND. USE ./scripts/generate-key-metric-recording-rules.sh TO GENERATE IT
# YOUR CHANGES WILL BE OVERRIDDEN
groups:
- name: Autogenerated Service SLOs
  interval: 5m
  rules:
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      tier: sv
      type: api
    expr: '0.9'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      tier: sv
      type: api
    expr: '0.005'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      alert_trigger_duration: long
      tier: runners
      type: ci-runners
    expr: '0.8'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      alert_trigger_duration: long
      tier: runners
      type: ci-runners
    expr: '0.2'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      tier: lb
      type: frontend
    expr: '0.9'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      tier: lb
      type: frontend
    expr: '0.0005'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      tier: sv
      type: git
    expr: '0.95'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      tier: sv
      type: git
    expr: '0.005'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      alert_trigger_duration: long
      tier: stor
      type: gitaly
    expr: '0.95'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      alert_trigger_duration: long
      tier: stor
      type: gitaly
    expr: '0.001'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      tier: stor
      type: nfs
    expr: '0.0001'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      tier: db
      type: patroni
    expr: '0.95'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      tier: db
      type: patroni
    expr: '0.005'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      tier: stor
      type: praefect
    expr: '0.995'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      tier: stor
      type: praefect
    expr: '0.001'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      tier: db
      type: redis-cache
    expr: '0.95'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      tier: sv
      type: registry
    expr: '0.9'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      tier: sv
      type: registry
    expr: '0.005'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      tier: sv
      type: sidekiq
    expr: '0.95'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      tier: sv
      type: sidekiq
    expr: '0.05'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      tier: sv
      type: web-pages
    expr: '0.9'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      tier: sv
      type: web-pages
    expr: '0.005'
  - record: slo:min:gitlab_service_apdex:ratio
    labels:
      tier: sv
      type: web
    expr: '0.95'
  - record: slo:max:gitlab_service_errors:ratio
    labels:
      tier: sv
      type: web
    expr: '0.005'
