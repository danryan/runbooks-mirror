# WARNING. DO NOT EDIT THIS FILE BY HAND. USE ./thanos-rules-jsonnet/kube-state-metrics-recording-rules.jsonnet TO GENERATE IT
# YOUR CHANGES WILL BE OVERRIDDEN
groups:
- name: 'kube-state-metrics-recording-rules: enriched label recording rules'
  interval: 1m
  partial_response_strategy: warn
  rules:
  - record: nginx_ingress_controller_bytes_sent_count:labeled
    expr: |
      nginx_ingress_controller_bytes_sent_count
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_request_duration_seconds_bucket:labeled
    expr: |
      nginx_ingress_controller_request_duration_seconds_bucket
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_request_duration_seconds_sum:labeled
    expr: |
      nginx_ingress_controller_request_duration_seconds_sum
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_response_size_count:labeled
    expr: |
      nginx_ingress_controller_response_size_count
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_ingress_upstream_latency_seconds:labeled
    expr: |
      nginx_ingress_controller_ingress_upstream_latency_seconds
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_ingress_upstream_latency_seconds_count:labeled
    expr: |
      nginx_ingress_controller_ingress_upstream_latency_seconds_count
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_ingress_upstream_latency_seconds_sum:labeled
    expr: |
      nginx_ingress_controller_ingress_upstream_latency_seconds_sum
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_request_duration_seconds_count:labeled
    expr: |
      nginx_ingress_controller_request_duration_seconds_count
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_request_size_bucket:labeled
    expr: |
      nginx_ingress_controller_request_size_bucket
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_response_duration_seconds_bucket:labeled
    expr: |
      nginx_ingress_controller_response_duration_seconds_bucket
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_bytes_sent_bucket:labeled
    expr: |
      nginx_ingress_controller_bytes_sent_bucket
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_bytes_sent_sum:labeled
    expr: |
      nginx_ingress_controller_bytes_sent_sum
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_request_size_count:labeled
    expr: |
      nginx_ingress_controller_request_size_count
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_response_duration_seconds_sum:labeled
    expr: |
      nginx_ingress_controller_response_duration_seconds_sum
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_request_size_sum:labeled
    expr: |
      nginx_ingress_controller_request_size_sum
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_requests:labeled
    expr: |
      nginx_ingress_controller_requests
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_response_duration_seconds_count:labeled
    expr: |
      nginx_ingress_controller_response_duration_seconds_count
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_response_size_bucket:labeled
    expr: |
      nginx_ingress_controller_response_size_bucket
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
  - record: nginx_ingress_controller_response_size_sum:labeled
    expr: |
      nginx_ingress_controller_response_size_sum
      *
      on(environment,cluster,ingress) group_left(tier,type,stage,shard)
      topk by (environment,cluster,ingress) (1, kube_ingress_labels:labeled{type!=""})
