# WARNING. DO NOT EDIT THIS FILE BY HAND. USE ./scripts/generate-gitlab-triage-dashboards.sh TO GENERATE IT
# YOUR CHANGES WILL BE OVERRIDDEN
dashboard: Frontend Services -  ci-runners
panel_groups:
- group: Frontend Services - ci-runners
  panels:
  - title: 'Latency: Apdex'
    metrics:
    - id: line-chart-latency-apdex-ci-runners-service
      label: "{{type}} Service"
      query_range: >-
        min(min_over_time(gitlab_service_apdex:ratio{environment="gprd", type="ci-runners", stage="main"}[1m]))
        by (type)
      unit: "%"
    - id: line-chart-latency-apdex-degradation-ci-runnerservice
      label: Degradation SLO
      query_range: >-
        avg(slo:min:gitlab_service_apdex:ratio{environment="gprd", type="ci-runners", stage="main"}) or
        avg(slo:min:gitlab_service_apdex:ratio{type="ci-runners"})
      unit: "%"
    - id: line-chart-latency-apdex-outage-ci-runnerservice
      label: Outage SLO
      query_range: >-
        2 * (avg(slo:min:gitlab_service_apdex:ratio{environment="gprd", type="ci-runners", stage="main"})
        or avg(slo:min:gitlab_service_apdex:ratio{type="ci-runners"})) - 1
      unit: "%"
    - id: line-chart-latency-apdex-last-week-ci-runnerservice
      label: Last Week
      query_range: >-
        max(max_over_time(gitlab_service_errors:ratio{environment="gprd", type="ci-runners", stage="main"}[1m]
        offset 1w)) by (type)
      unit: "%"
    type: line-chart
    y_label: Apdex %
  - title: Error Ratios
    metrics:
    - id: line-chart-error-ratios-ci-runners-service
      label: "{{type}} service"
      query_range: >-
        max(max_over_time(gitlab_service_errors:ratio{environment="gprd", type="ci-runners", stage="main"}[1m]))
        by (type)
      unit: "%"
    - id: line-chart-error-ratios-degradation-ci-runners-service
      label: Degradation SLO
      query_range: >-
        avg(slo:max:gitlab_service_errors:ratio{environment="gprd", type="ci-runners", stage="main"})
        or avg(slo:max:gitlab_service_errors:ratio{type="ci-runners"})
      unit: "%"
    - id: line-chart-error-ratios-outage-ci-runners-service
      label: Outage SLO
      query_range: >-
        2 * (avg(slo:max:gitlab_service_errors:ratio{environment="gprd", type="ci-runners", stage="main"})
        or avg(slo:max:gitlab_service_errors:ratio{type="ci-runners"}))
      unit: "%"
    - id: line-chart-error-ratios-last-week-ci-runners-service
      label: Last week
      query_range: >-
        max(max_over_time(gitlab_service_errors:ratio{environment="gprd", type="ci-runners", stage="main"}[1m]
        offset 1w)) by (type)
      unit: "%"
    type: line-chart
    y_label: Percentile
