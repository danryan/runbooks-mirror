teams:
- name: backend
  url: https://about.gitlab.com/handbook/engineering/dev-backend/
  slack_channel: backend

- name: gitaly
  url: https://about.gitlab.com/handbook/engineering/dev-backend/gitaly/
  slack_channel: gitaly
  slack_low_severity_alerts_channel: gitaly-alerts

- name: release
  url: https://about.gitlab.com/handbook/engineering/dev-backend/
  slack_channel: g_release

- name: infrastructure
  url: https://about.gitlab.com/handbook/engineering/infrastructure/
  slack_channel: production

# Package team doesn't seem to exist
- name: package
  url: https://about.gitlab.com/handbook/engineering/dev-backend/
  slack_channel: backend

tiers:
- name: sv
- name: lb
- name: stor
- name: db

services:
- name: api
  tier: sv
  team: backend
  sentry_slug: "gitlab/gitlabcom/?query=program%3A%22rails%22"
  primary_grafana_dashboard: "OktWokpik/workhorse-overview?var-type=api"
  logging:
    - name: Rails
      permalink: https://log.gitlab.net/goto/0238ddb1480bb4bd19c09f0467b6e684
    - name: Workhorse
      permalink: https://log.gitlab.net/goto/eb99f28c17cfcdfd30969a1c85e209dc
    - name: Unicorn
      permalink: https://log.gitlab.net/goto/c8f89b2415788b46978fcd2910b4afec
    - name: nginx
      permalink: https://log.gitlab.net/goto/0d1c84486d6fb28a785f1c21473e5611
    - name: Unstructured Rails
      permalink: https://console.cloud.google.com/logs/viewer?project=gitlab-production&interval=PT1H&resource=gce_instance&advancedFilter=jsonPayload.hostname%3A%22api%22%0Alabels.tag%3D%22unstructured.production%22&customFacets=labels.%22compute.googleapis.com%2Fresource_name%22
    - name: system
      permalink: https://log.gitlab.net/goto/2b9679dab019791136cb8ae1535fb781
  label: Service:API
  criticality: 3

- name: web
  tier: sv
  team: backend
  sentry_slug: "gitlab/gitlabcom/?query=program%3A%22rails%22"
  primary_grafana_dashboard: "OktWokpik/workhorse-overview?var-type=web"
  logging:
    - name: Rails
      permalink: https://log.gitlab.net/goto/5e1aa9dac377ff2282c70748e9278860
    - name: Workhorse
      permalink: https://log.gitlab.net/goto/cebefc3cf285ce2a94fbfdcadc55f1a4
    - name: Unicorn
      permalink: https://log.gitlab.net/goto/766f73d879983f5ec962d5d6c0ae1cf4
    - name: nginx
      permalink: https://log.gitlab.net/goto/4844ecfa4a7e6f0491685b2cc9224eb0
    - name: Unstructured Rails
      permalink: https://console.cloud.google.com/logs/viewer?project=gitlab-production&interval=PT1H&resource=gce_instance&advancedFilter=jsonPayload.hostname%3A%22web%22%0Alabels.tag%3D%22unstructured.production%22&customFacets=labels.%22compute.googleapis.com%2Fresource_name%22
    - name: system
      permalink: https://log.gitlab.net/goto/c93fb9b8e5df92ed79d993d3a62b5452
  label: Service:Web
  criticality: 3

- name: git
  tier: sv
  team: backend
  sentry_slug: "gitlab/gitlabcom/?query=program%3A%22rails%22"
  primary_grafana_dashboard: "OktWokpik/workhorse-overview?var-type=git"
  logging:
    - name: Rails
      permalink: https://log.gitlab.net/goto/b368513b02f183a06d28c2a958b00602
    - name: Workhorse
      permalink: https://log.gitlab.net/goto/3ddd4ee7141ba2ec1a8b3bb0cb1476fe
    - name: Unicorn
      permalink: https://log.gitlab.net/goto/0cf60e9a1c94236eefb23348c39feaeb
    - name: nginx
      permalink: https://log.gitlab.net/goto/8a5fb5820ec7c8daebf719c51fa00ce0
    - name: Unstructured Rails
      permalink: https://console.cloud.google.com/logs/viewer?project=gitlab-production&interval=PT1H&resource=gce_instance&advancedFilter=jsonPayload.hostname%3A%22git%22%0Alabels.tag%3D%22unstructured.production%22&customFacets=labels.%22compute.googleapis.com%2Fresource_name%22
    - name: system
      permalink: https://log.gitlab.net/goto/bd680ccb3c21567e47a821bbf52a7c09
  label: Service:Git
  criticality: 3

- name: gitaly
  tier: stor
  team: gitaly
  sentry_slug: gitlab/gitaly-production
  grafana_folder: SRXyrrSmk
  primary_grafana_dashboard: "000000214/gitaly-fleet-overview"
  logging:
    - name: Gitaly
      permalink: https://log.gitlab.net/goto/4f0bd7f08b264e7de970bb0cc9530f9d
    - name: system
      permalink: https://log.gitlab.net/goto/7cfb513706cffc0789ad0842674e108a
  label: Service:Gitaly
  criticality: 2

- name: mailroom
  tier: sv
  team: backend
  label: Service:Mailroom
  logging:
    - name: system
      permalink: https://log.gitlab.net/goto/0ce3bf67abafcfc0f81f3d6e7a066912
  criticality: 3

- name: pages
  tier: sv
  team: release
  grafana_folder: v2ZhpeSik
  primary_grafana_dashboard: "_IQB_rSmk/pages"
  logging:
    - name: Pages
      permalink: https://log.gitlab.net/goto/00a732029c1448a741c8730c04038fd9
    - name: haproxy
      permalink: https://console.cloud.google.com/logs/viewer?project=gitlab-production&interval=PT1H&resource=gce_instance&customFacets=labels.%22compute.googleapis.com%2Fresource_name%22&advancedFilter=labels.tag%3D%22haproxy%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22fe-pages-%22
    - name: system
      permalink: https://log.gitlab.net/goto/3384c89c5a828db866d2fa8ec86cd97f
  label: Service:Pages
  criticality: 3

- name: pgbouncer
  tier: db
  team: infrastructure
  grafana_folder: jYXDze5mk
  primary_grafana_dashboard: "PwlB95Jmk/pgbouncer-overview"
  logging:
    - name: pgbouncer
      permalink: https://log.gitlab.net/goto/00a732029c1448a741c8730c04038fd9
    - name: system
      permalink: https://log.gitlab.net/goto/ae311f6f133cc1c45b62541977081043
  label: Service:pgbouncer
  criticality: 1

- name: postgres
  tier: db
  team: infrastructure
  grafana_folder: jYXDze5mk
  primary_grafana_dashboard: "000000142/postgresql-overview"
  logging:
    - name: Postgres
      permalink: https://log.gitlab.net/goto/d0f8993486c9007a69d85e3a08f1ea7c
    - name: system
      permalink: https://log.gitlab.net/goto/3669d551a595a3a5cf1e9318b74e6c22
  label: Service:Postgres
  criticality: 1

- name: redis
  tier: db
  team: infrastructure
  grafana_folder: D5R0peIik
  primary_grafana_dashboard: "wccEP9Imk/redis"
  logging:
    - name: Redis
      permalink: https://log.gitlab.net/goto/27a6bf4e347ef9da754f06eb0a54aedc
    - name: system
      permalink: https://log.gitlab.net/goto/e107ce00a9adede2e130d0c8ec1a2ac7
  label: Service:Redis
  criticality: 1

- name: registry
  tier: sv
  team: package
  logging:
    - name: Registry
      permalink: https://log.gitlab.net/goto/1c2fe46c1db40a7aa7d31875f3fd2ad1
    - name: haproxy
      permalink: https://console.cloud.google.com/logs/viewer?project=gitlab-production&interval=PT1H&resource=gce_instance&customFacets=labels.%22compute.googleapis.com%2Fresource_name%22&advancedFilter=labels.tag%3D%22haproxy%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22fe-registry-%22
    - name: system
      permalink: https://log.gitlab.net/goto/b68e1a4183a652dc8d5e52a1fc2c1aba
  label: Service:Registry
  criticality: 3

- name: sidekiq
  tier: sv
  team: backend
  sentry_slug: "gitlab/gitlabcom/?query=program%3A%22sidekiq%22"
  grafana_folder: c7nMugpmz
  primary_grafana_dashboard: "9GOIu9Siz/sidekiq-stats"
  logging:
    - name: Sidekiq
      permalink: https://log.gitlab.net/goto/d7e4791e63d2a2b192514ac821c9f14f
    - name: Rails
      permalink: https://log.gitlab.net/goto/86fbcd537588abef69339a352ef81d72
    - name: Unicorn
      permalink: https://log.gitlab.net/goto/c87a39cf228c45ed8691c855aa583170
    - name: Unstructured
      permalink: https://console.cloud.google.com/logs/viewer?project=gitlab-production&interval=PT1H&resource=gce_instance&advancedFilter=jsonPayload.hostname%3A%22sidekiq%22%0Alabels.tag%3D%22unstructured.production%22&customFacets=labels.%22compute.googleapis.com%2Fresource_name%22
    - name: system
      permalink: https://log.gitlab.net/goto/72d0f3fdfd8db18db9800cc04d8b6f55
  label: Service:Sidekiq
  criticality: 3
